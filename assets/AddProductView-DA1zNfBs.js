import{w as i,v as f,c as I,T as A,u as F}from"./index-TvdfycO4.js";import{u as N}from"./products-Bup8Yd8Q.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as _,F as d,N as a,O as t,P as y,Q as u,V as B,_ as M,S as x,W as U,Z as k,K as n,T as E,R as G}from"./auth-Cphxmk2s.js";const q={class:"min-h-screen bg-gray-100"},z={class:"px-8 py-8"},H={class:"max-w-4xl"},R={class:"mb-6"},$={class:"grid grid-cols-2 gap-6 mb-6"},j={class:"relative"},L={key:0,class:"flex flex-col items-center"},Q={key:1,class:"flex flex-col items-center"},W=["src"],J={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},K={class:"text-red-700 font-medium"},O={class:"flex gap-4 justify-end pt-6 border-t"},X=["disabled"],Z={key:0,class:"flex items-center"},Y={key:1},ee={__name:"AddProductView",setup(te){const w=F(),h=N(),o=_({title:"",description:"",category:"",price:0,stock:0,thumbnail:""}),c=d(!1),l=d(""),p=d(""),b=d(!1),m=d(null),P=()=>{m.value?.click()},C=r=>{const e=r.target.files?.[0];e&&v(e)},S=r=>{b.value=!1;const e=r.dataTransfer.files;e.length>0&&v(e[0])},v=r=>{if(!r.type.startsWith("image/")){l.value="Please select an image file";return}const e=new FileReader;e.onload=g=>{p.value=g.target?.result,o.thumbnail=g.target?.result},e.readAsDataURL(r)},V=()=>{p.value="",o.thumbnail="",m.value&&(m.value.value="")},D=async()=>{if(l.value="",!o.title.trim()){l.value="Title is required";return}if(!o.category){l.value="Category is required";return}if(o.price<=0){l.value="Price must be greater than 0";return}c.value=!0;try{const r={title:o.title.trim(),description:o.description.trim()||void 0,category:o.category,price:o.price,stock:o.stock||0,thumbnail:o.thumbnail||void 0};await h.addProduct(r),w.push("/products")}catch(r){l.value=r.message||"Failed to add product"}finally{c.value=!1}};return(r,e)=>{const g=U("router-link");return n(),a("div",q,[e[20]||(e[20]=t("div",{class:"bg-white shadow-sm px-8 py-6 border-b"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Add New Product"),t("p",{class:"text-gray-600"},"Enter the details below to add a new item to your inventory.")],-1)),t("div",z,[t("div",H,[t("form",{onSubmit:i(D,["prevent"]),class:"bg-white rounded-lg shadow-md p-8 space-y-8"},[t("div",null,[e[9]||(e[9]=t("h2",{class:"text-lg font-bold text-gray-900 mb-6 pb-4 border-b"},"Product Information",-1)),t("div",R,[e[7]||(e[7]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},"Product Title",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.title=s),id:"title",type:"text",placeholder:"Enter product title",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,o.title]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"},"Product Description",-1)),u(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.description=s),id:"description",rows:"5",placeholder:"Provide a detailed description of the product",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"},null,512),[[f,o.description]])])]),t("div",null,[e[15]||(e[15]=t("h2",{class:"text-lg font-bold text-gray-900 mb-6 pb-4 border-b"},"Pricing & Inventory",-1)),t("div",$,[t("div",null,[e[11]||(e[11]=t("label",{for:"price",class:"block text-sm font-medium text-gray-700 mb-2"},"Price",-1)),t("div",j,[e[10]||(e[10]=t("span",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-600"},"$",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.price=s),id:"price",type:"number",step:"0.01",min:"0",placeholder:"0.00",class:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,o.price,void 0,{number:!0}]])])]),t("div",null,[e[12]||(e[12]=t("label",{for:"stock",class:"block text-sm font-medium text-gray-700 mb-2"},"Stock Quantity",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.stock=s),id:"stock",type:"number",min:"0",placeholder:"Enter stock quantity",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,o.stock,void 0,{number:!0}]])])]),t("div",null,[e[14]||(e[14]=t("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.category=s),id:"category",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...e[13]||(e[13]=[B('<option value="" data-v-47043bcb>Select a category</option><option value="Electronics" data-v-47043bcb>Electronics</option><option value="Apparel" data-v-47043bcb>Apparel</option><option value="Groceries" data-v-47043bcb>Groceries</option><option value="Home" data-v-47043bcb>Home</option><option value="Beauty" data-v-47043bcb>Beauty</option><option value="Sports" data-v-47043bcb>Sports</option>',7)])],512),[[I,o.category]])])]),t("div",null,[e[17]||(e[17]=t("h2",{class:"text-lg font-bold text-gray-900 mb-6 pb-4 border-b"},"Media",-1)),t("div",{onClick:P,onDragover:e[5]||(e[5]=i(s=>b.value=!0,["prevent"])),onDragleave:e[6]||(e[6]=i(s=>b.value=!1,["prevent"])),onDrop:i(S,["prevent"]),class:M(["relative border-2 border-dashed rounded-lg p-12 text-center cursor-pointer transition-colors",b.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"])},[t("input",{ref_key:"fileInput",ref:m,type:"file",accept:"image/*",class:"hidden",onChange:C},null,544),p.value?(n(),a("div",Q,[t("img",{src:p.value,alt:"Preview",class:"max-h-48 mb-4 rounded"},null,8,W),t("button",{type:"button",onClick:i(V,["stop"]),class:"text-blue-600 hover:text-blue-700 text-sm font-medium"}," Change Image ")])):(n(),a("div",L,[...e[16]||(e[16]=[t("svg",{class:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),t("p",{class:"text-gray-700 font-medium mb-1"},"Click to upload or drag and drop",-1),t("p",{class:"text-sm text-gray-500"},"SVG, PNG, JPG or GIF (MAX. 8255x4000px)",-1)])]))],34)]),y(A,{name:"fade"},{default:x(()=>[l.value?(n(),a("div",J,[t("p",K,G(l.value),1)])):E("",!0)]),_:1}),t("div",O,[y(g,{to:"/products",class:"px-6 py-2 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors"},{default:x(()=>[...e[18]||(e[18]=[k(" Cancel ",-1)])]),_:1}),t("button",{type:"submit",disabled:c.value,class:"px-6 py-2 bg-blue-900 hover:bg-blue-950 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors flex items-center gap-2"},[c.value?(n(),a("span",Z,[...e[19]||(e[19]=[t("svg",{class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),k(" Saving... ",-1)])])):(n(),a("span",Y,"Save Product"))],8,X)])],32)])])])}}},ae=T(ee,[["__scopeId","data-v-47043bcb"]]);export{ae as default};
